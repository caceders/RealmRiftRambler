[gd_scene load_steps=5 format=3 uid="uid://h1jbxoqanmwo"]

[ext_resource type="PackedScene" uid="uid://77648svjoync" path="res://Tools/EntityBases/creatureBase.tscn" id="1_tdxna"]
[ext_resource type="Script" path="res://Tools/Hostility/hostility.gd" id="2_o8dx1"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_04xm1"]
load_path = "res://.godot/imported/Idle.png-29ba2d501f3c2f069eebb264a0cdd94b.ctex"

[sub_resource type="AtlasTexture" id="AtlasTexture_35n0q"]
atlas = SubResource("CompressedTexture2D_04xm1")
region = Rect2(13, 44, 7, 7)

[node name="EnemyBase" instance=ExtResource("1_tdxna")]
position = Vector2(0, 0)
wall_min_slide_angle = 0.261799

[node name="Shadow" parent="." index="0"]
offset = Vector2(-3.5, -1.37167)

[node name="DamageReceiver" parent="." index="2"]
position = Vector2(-1, 0)

[node name="HealthBar" parent="." index="3"]
offset_top = -12.205
offset_bottom = -7.205

[node name="Sprite2D" parent="." index="4"]
texture = SubResource("AtlasTexture_35n0q")
offset = Vector2(0, -3.705)

[node name="ChaserEvader" parent="." index="7"]
enabled = true
chase = Array[String](["Player"])

[node name="NavigationAgent2D" parent="." index="10"]
avoidance_enabled = true

[node name="AttackController" parent="." index="12"]
attack_type = 2

[node name="Hostility" type="Node2D" parent="." index="15" node_paths=PackedStringArray("entity", "vision", "strafer", "chaser_evader", "attack_controller", "attack_area", "damage_receiver")]
script = ExtResource("2_o8dx1")
entity = NodePath("../TopDownEntity2D")
vision = NodePath("../Vision")
strafer = NodePath("../Strafer")
chaser_evader = NodePath("../ChaserEvader")
attack_controller = NodePath("../AttackController")
attack_area = NodePath("../AttackArea")
damage_receiver = NodePath("../DamageReceiver")
hostile_groups = Array[String](["Player"])

[node name="NavigationObstacle2D" parent="." index="16"]
radius = 4.6

[connection signal="damage_received" from="DamageReceiver" to="DamageReceiver" method="_on_damage_received" unbinds=3]
[connection signal="damage_received" from="DamageReceiver" to="Hostility" method="_on_damage_taken" unbinds=3]
